<div class="book-summary">
    <script type="text/javascript">
        /* Keep existing scroll helpers */
        function pageScrollToTop(element) {
            $('div.body-inner').animate({scrollTop: 0});
            $(element).parent().find('li>ul>li').removeClass('active');
            return true;
        }
    </script>

    <nav role="navigation">
        <!-- ðŸ” ê²€ìƒ‰ì°½ -->
        <div id="book-search-input" role="search">
            <input type="text" placeholder="Type to search" />
        </div>
        <div id="book-search-input-link" role="search">
            <a href="{{site.baseurl}}/assets/search.html">Click to Search</a>
        </div>

        <ul class="summary">
            <!-- ðŸ“‚  ì¹´í…Œê³ ë¦¬ ëª©ë¡ -->
            {% assign cat_sorted = site.categories | sort %}
            {% for cat in cat_sorted %}
                {% assign cat_name = cat[0] %}
                {% assign posts    = cat[1] %}
                <li class="chapter">
                    <details {% if page.categories contains cat_name %}open{% endif %}>
                        <summary><strong>{{ cat_name }} ({{ posts | size }})</strong></summary>
                        <ul>
                        {% for p in posts %}
                            <li class="article{% if page.url == p.url %} active{% endif %}">
                                <a href="{{ p.url | relative_url }}" onclick="pageScrollToTop(this)">{{ p.title }}</a>
                            </li>
                        {% endfor %}
                        </ul>
                    </details>
                </li>
            {% endfor %}

            <li class="divider"></li>

            <!-- ðŸ“Œ ê³ ì • íŽ˜ì´ì§€ (About / Contact) -->
            {% assign fixed_pages = site.pages | where_exp:"pg","pg.url == '/about/' or pg.url == '/contact/'" %}
            {% for fp in fixed_pages %}
                <li class="chapter{% if page.url == fp.url %} active{% endif %}">
                    <a href="{{ fp.url | relative_url }}">{{ fp.title }}</a>
                </li>
            {% endfor %}
        </ul>
    </nav>
</div>
